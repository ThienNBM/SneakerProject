@model IEnumerable<SneakerInside.Models.Catalog>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    //List<Catalog> ListCatalog = new List<Catalog>();
    //ListCatalog = ViewBag.ListCatalog;
}

<!-- Input addon -->
<div class="card card-info">
    <div class="card-header">
        <h3 class="card-title">Danh sách @ViewBag.Name</h3>
    </div>
    <div class="card-body">
        <table id="catalogTable" class="table table-bordered table-hover">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.CatalogID)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.CatalogName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Status)
                    </th>
                    <th style="text-align: center">
                        <a asp-action="Create" class="btn btn-success"><i class="fas fa-plus"></i></a>
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @item.CatalogID
                        </td>
                        <td>
                            @item.CatalogName
                        </td>
                        <td>
                            @if (item.Status == 1)
                            {
                                <p>Hoạt động</p>
                            }
                            else
                            {
                                <p>Không hoạt động</p>
                            }
                        </td>
                        <td style="text-align: center">
                            <a asp-action="Edit" asp-route-id="@item.CatalogID" class="btn btn-warning"><i class="fas fa-edit"></i></a>
                            <a asp-action="Delete" asp-route-id="@item.CatalogID" class="btn btn-danger"><i class="fas fa-trash-alt"></i></a>
                            @*<button type="button" class="btn btn-danger btn-sm btn_delete" data-toggle="modal" data-target="#deleteModal">
                                <i class="fa fa-trash"></i>
                            </button>*@
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

@section Scripts{ 
    <script type="text/javascript">
        $(document).ready(function () {
            $('#catalogTable').dataTable({

            });
        });

        @*$(document).ready(function () {
            var data = [];
            $.ajax({
                url: '@Url.Action("GetAll", "Catalog")',
                type: 'GET',
                dataType: 'html',
                success: function (response) {
                    data = response;
                }
            });
            console.log('11111');
            console.log(data)
            $('#catalogTable').dataTable({
                data: data,
                columns: [
                    {
                        data: 'catalogID' },
                    { data: 'catalogName' },
                    { data: 'status' },
                    {
                        "render": function (data, row) {
                            return "<a href='#' class='btn btn-danger' onclick=DeleteCustomer('" + row.id + "'); >Delete</a>";
                        }
                    },
                ]
            });
        });

        function getdata() {
            $.ajax({
                url: '@Url.Action("GetAll", "Catalog")',
                type: 'GET',
                dataType: 'html',
                success: function (response) {
                    console.log(response);
                    return data;
                }
            });
        }*@
    </script>
}